# 修复免费试看需要登录的问题

## 1. 修改后端路由配置
- 移除 `/get-sign-url` 接口的 `authMiddleware`
- 允许未登录用户请求视频播放 URL

## 2. 修改后端控制器逻辑
- 在 `getSignUrl` 控制器中判断章节类型
- 如果是试看章节：直接返回播放 URL（不需要登录）
- 如果是付费章节：检查用户是否登录并已购买
- 未登录用户请求付费章节时返回 403 错误

## 3. 优化前端错误处理
- 在 VideoPlay.vue 中优化错误处理逻辑
- 区分 401/403 错误，提供更友好的提示

## 预期效果
- 未登录用户可以正常观看免费试看视频
- 未登录用户观看付费视频时会收到提示
- 登录用户观看付费视频时会检查购买权限